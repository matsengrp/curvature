---
title: "Ricci"
runtime: shiny
output: html_document
---

```{r, echo=FALSE}

library(ggvis)

source("process.R")

d <- get_results("../../results/ricci7.mat")

d %>%
  ggvis(x = ~kappa, y = ~dist_jitter) %>%
  layer_points(size = 5, fill = ~t1_nwk, stroke = ~t2_idx, strokeOpacity := 0) %>%
#  layer_points(size = ~mult, fill = ~t1_nwk, stroke = ~t2_idx) %>%
  # A dummy layer so that we can use text in the tooltip.
  layer_text(text := ~info, fontSize := 0) %>%
  add_axis("x", grid = FALSE) %>%
  add_axis("y", grid = FALSE, values = 1:3) %>%
  add_legend(c("fill"), properties=legend_props(legend=list(y=0))) %>%
  #add_legend(c("stroke"), properties=legend_props(legend=list(y=100))) %>%
  #add_legend(c("size"), properties=legend_props(legend=list(y=200))) %>%
  add_tooltip(function(df) df$info)
```